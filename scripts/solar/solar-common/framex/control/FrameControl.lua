local ____lualib = require("lualib_bundle")
local __TS__Class = ____lualib.__TS__Class
local __TS__ClassExtends = ____lualib.__TS__ClassExtends
local __TS__New = ____lualib.__TS__New
local __TS__SourceMapTraceBack = ____lualib.__TS__SourceMapTraceBack
__TS__SourceMapTraceBack(debug.getinfo(1).short_src, {["8"] = 1,["9"] = 1,["10"] = 2,["11"] = 2,["12"] = 3,["13"] = 3,["14"] = 4,["15"] = 4,["16"] = 10,["17"] = 10,["18"] = 10,["19"] = 10,["21"] = 10,["22"] = 38,["23"] = 10,["24"] = 41,["25"] = 42,["26"] = 43,["28"] = 45,["29"] = 41,["30"] = 53,["31"] = 53,["32"] = 53,["34"] = 62,["35"] = 53,["36"] = 66,["37"] = 67,["38"] = 67,["39"] = 67,["40"] = 67,["41"] = 67,["42"] = 67,["43"] = 68,["44"] = 69,["45"] = 70,["46"] = 71,["48"] = 73,["49"] = 73,["50"] = 74,["51"] = 66,["52"] = 78,["53"] = 79,["54"] = 79,["55"] = 79,["56"] = 79,["57"] = 79,["58"] = 79,["59"] = 80,["60"] = 81,["61"] = 82,["62"] = 83,["64"] = 85,["65"] = 85,["66"] = 86,["67"] = 78,["68"] = 90,["69"] = 91,["70"] = 91,["71"] = 91,["72"] = 91,["73"] = 91,["74"] = 91,["75"] = 92,["76"] = 93,["77"] = 94,["78"] = 95,["80"] = 97,["81"] = 97,["82"] = 98,["83"] = 90,["84"] = 102,["85"] = 103,["86"] = 103,["87"] = 103,["88"] = 103,["89"] = 103,["90"] = 103,["91"] = 104,["92"] = 105,["93"] = 106,["94"] = 107,["96"] = 109,["97"] = 109,["98"] = 110,["99"] = 102,["100"] = 114,["101"] = 114,["102"] = 114,["104"] = 115,["105"] = 116,["107"] = 118,["108"] = 114,["109"] = 122,["110"] = 122,["111"] = 122,["113"] = 123,["114"] = 124,["116"] = 126,["117"] = 122,["118"] = 130,["119"] = 130,["120"] = 130,["122"] = 131,["123"] = 132,["125"] = 134,["126"] = 130,["127"] = 138,["128"] = 138,["129"] = 138,["131"] = 139,["132"] = 140,["134"] = 142,["135"] = 138,["136"] = 146,["137"] = 146,["138"] = 146,["140"] = 147,["141"] = 148,["143"] = 150,["144"] = 146,["145"] = 154,["146"] = 154,["147"] = 154,["149"] = 155,["150"] = 156,["152"] = 158,["153"] = 154,["154"] = 163,["155"] = 164,["156"] = 163,["157"] = 168,["158"] = 169,["159"] = 170,["161"] = 168,["162"] = 176,["163"] = 176,["164"] = 176,["166"] = 177,["167"] = 178,["169"] = 180,["170"] = 176,["171"] = 184,["172"] = 184,["173"] = 184,["175"] = 184,["176"] = 184,["178"] = 185,["179"] = 186,["180"] = 186,["181"] = 186,["182"] = 186,["183"] = 186,["184"] = 186,["185"] = 186,["186"] = 188,["187"] = 189,["188"] = 190,["189"] = 191,["190"] = 191,["192"] = 193,["193"] = 184,["194"] = 197,["195"] = 198,["196"] = 197,["197"] = 202,["198"] = 203,["199"] = 204,["201"] = 202,["202"] = 209,["203"] = 209,["204"] = 209,["206"] = 210,["207"] = 211,["209"] = 213,["210"] = 209,["211"] = 217,["212"] = 218,["213"] = 217,["214"] = 222,["215"] = 223,["216"] = 224,["218"] = 222,["219"] = 229,["220"] = 229,["221"] = 229,["223"] = 230,["224"] = 231,["225"] = 232,["227"] = 234,["228"] = 229,["229"] = 238,["230"] = 238,["231"] = 238,["233"] = 238,["234"] = 238,["236"] = 239,["237"] = 241,["238"] = 241,["239"] = 241,["240"] = 241,["241"] = 241,["242"] = 241,["243"] = 242,["244"] = 244,["245"] = 244,["246"] = 244,["247"] = 244,["248"] = 244,["249"] = 244,["250"] = 245,["251"] = 246,["252"] = 247,["253"] = 247,["254"] = 247,["255"] = 247,["256"] = 247,["257"] = 247,["258"] = 247,["259"] = 248,["260"] = 249,["261"] = 249,["262"] = 249,["263"] = 249,["264"] = 249,["265"] = 249,["266"] = 249,["267"] = 250,["268"] = 251,["269"] = 251,["270"] = 251,["271"] = 251,["272"] = 251,["273"] = 251,["274"] = 251,["275"] = 252,["276"] = 253,["277"] = 253,["278"] = 253,["279"] = 253,["280"] = 253,["281"] = 253,["282"] = 253,["283"] = 254,["284"] = 255,["285"] = 255,["286"] = 255,["287"] = 255,["288"] = 255,["289"] = 255,["290"] = 255,["292"] = 257,["293"] = 257,["294"] = 257,["295"] = 257,["296"] = 257,["297"] = 257,["298"] = 257,["300"] = 260,["302"] = 262,["303"] = 238,["304"] = 267,["305"] = 268,["306"] = 269,["307"] = 270,["309"] = 272,["310"] = 273,["314"] = 277,["315"] = 278,["316"] = 279,["317"] = 267,["318"] = 283,["319"] = 284,["322"] = 287,["323"] = 288,["324"] = 289,["326"] = 291,["328"] = 293,["329"] = 283});
local ____exports = {}
local ____FrameNode = require("solar.solar-common.framex.FrameNode")
local FrameNode = ____FrameNode.default
local ____frame = require("solar.solar-common.w3ts.handles.frame")
local Frame = ____frame.Frame
local ____SolarConfig = require("solar.solar-common.common.SolarConfig")
local SolarConfig = ____SolarConfig.default
local ____FramePoint = require("solar.solar-common.constant.FramePoint")
local FramePoint = ____FramePoint.default
____exports.default = __TS__Class()
local FrameControl = ____exports.default
FrameControl.name = "FrameControl"
__TS__ClassExtends(FrameControl, FrameNode)
function FrameControl.prototype.____constructor(self, ...)
    FrameNode.prototype.____constructor(self, ...)
    self._sl_isInitialized = false
end
function FrameControl.prototype.init(self)
    if self._sl_isInitialized then
        log.errorWithTraceBack("不要多次调用init()!")
    end
    self._sl_isInitialized = true
end
function FrameControl.prototype.getRootFrame(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    return self.rootFrame
end
function FrameControl.prototype.addTextFrame(self, text)
    local frame = __TS__New(
        Frame,
        "TEXT",
        nil,
        self:getRootFrame().handle
    )
    frame.visible = true
    frame:setAllPoints(self:getRootFrame().handle)
    if text then
        frame:setText(text)
    end
    local ____self__sl_Frames_0 = self._sl_Frames
    ____self__sl_Frames_0[#____self__sl_Frames_0 + 1] = frame
    return frame
end
function FrameControl.prototype.addTextAreaFrame(self, text)
    local frame = __TS__New(
        Frame,
        "TEXTAREA",
        nil,
        self:getRootFrame().handle
    )
    frame.visible = true
    frame:setAllPoints(self:getRootFrame().handle)
    if text then
        frame:setText(text)
    end
    local ____self__sl_Frames_1 = self._sl_Frames
    ____self__sl_Frames_1[#____self__sl_Frames_1 + 1] = frame
    return frame
end
function FrameControl.prototype.addImageFrame(self, imagePath)
    local frame = __TS__New(
        Frame,
        "BACKDROP",
        nil,
        self:getRootFrame().handle
    )
    frame.visible = true
    frame:setAllPoints(self:getRootFrame().handle)
    if imagePath then
        frame:setTexture(imagePath)
    end
    local ____self__sl_Frames_2 = self._sl_Frames
    ____self__sl_Frames_2[#____self__sl_Frames_2 + 1] = frame
    return frame
end
function FrameControl.prototype.addModelFrame(self, modelPath)
    local frame = __TS__New(
        Frame,
        "SPRITE",
        nil,
        self:getRootFrame().handle
    )
    frame.visible = true
    frame:setAllPoints(self:getRootFrame().handle)
    if modelPath then
        frame:setModel(modelPath)
    end
    local ____self__sl_Frames_3 = self._sl_Frames
    ____self__sl_Frames_3[#____self__sl_Frames_3 + 1] = frame
    return frame
end
function FrameControl.prototype.getDisableFrame(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_disableFrame == nil then
        self._sl_disableFrame = self:addImageFrame(SolarConfig.defaultDisablePath)
    end
    return self._sl_disableFrame
end
function FrameControl.prototype.getImageFrame(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_imageFrame == nil then
        self._sl_imageFrame = self:addImageFrame("")
    end
    return self._sl_imageFrame
end
function FrameControl.prototype.getBackgroundImageFrame(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_backgroundImageFrame == nil then
        self._sl_backgroundImageFrame = self:addImageFrame("")
    end
    return self._sl_backgroundImageFrame
end
function FrameControl.prototype.getTextFrame(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_textFrame == nil then
        self._sl_textFrame = self:addTextFrame("")
    end
    return self._sl_textFrame
end
function FrameControl.prototype.getTextAreaFrame(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_textAreaFrame == nil then
        self._sl_textAreaFrame = self:addTextAreaFrame("")
    end
    return self._sl_textAreaFrame
end
function FrameControl.prototype.getTickFrame(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_tickFrame == nil then
        self._sl_tickFrame = self:addImageFrame(SolarConfig.defaultTickPath)
    end
    return self._sl_tickFrame
end
function FrameControl.prototype.showTickFrame(self)
    self:getTickFrame(true).visible = true
end
function FrameControl.prototype.hideTickFrame(self)
    if self._sl_tickFrame then
        self._sl_tickFrame.visible = false
    end
end
function FrameControl.prototype.getAutoCastFrame(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_autocastFrame == nil then
        self._sl_autocastFrame = self:addModelFrame(SolarConfig.defaultAutoCastModelPath)
    end
    return self._sl_autocastFrame
end
function FrameControl.prototype.getButtonFrame(self, createDefault, hasHighlight)
    if createDefault == nil then
        createDefault = true
    end
    if hasHighlight == nil then
        hasHighlight = true
    end
    if createDefault and self._sl_buttonFrame == nil then
        local frame = __TS__New(
            Frame,
            "BUTTON",
            nil,
            self:getRootFrame().handle,
            hasHighlight and "ScoreScreenTabButtonTemplate" or ""
        )
        frame.visible = true
        frame:setAllPoints(self:getRootFrame().handle)
        self._sl_buttonFrame = frame
        local ____self__sl_Frames_4 = self._sl_Frames
        ____self__sl_Frames_4[#____self__sl_Frames_4 + 1] = frame
    end
    return self._sl_buttonFrame
end
function FrameControl.prototype.showAutoCastFrame(self)
    self:getAutoCastFrame(true).visible = true
end
function FrameControl.prototype.hideAutoCastFrame(self)
    if self._sl_autocastFrame then
        self._sl_autocastFrame.visible = false
    end
end
function FrameControl.prototype.getLampEffectFrame(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_lampEffectFrame == nil then
        self._sl_lampEffectFrame = self:addModelFrame(SolarConfig.defaultLampEffectModelPath)
    end
    return self._sl_lampEffectFrame
end
function FrameControl.prototype.showLampEffectFrame(self)
    self:getLampEffectFrame(true).visible = true
end
function FrameControl.prototype.hideLampEffectFrame(self)
    if self._sl_lampEffectFrame then
        self._sl_lampEffectFrame.visible = false
    end
end
function FrameControl.prototype.getCooldownFrame(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_cooldownFrame == nil then
        self._sl_cooldownFrame = self:addModelFrame()
        self._sl_cooldownFrame:setAllPoints(self:getRootFrame().handle)
    end
    return self._sl_cooldownFrame
end
function FrameControl.prototype.getNumberOverlayTextFrame(self, createDefault, point)
    if createDefault == nil then
        createDefault = true
    end
    if point == nil then
        point = FramePoint.bottomRight
    end
    if createDefault and self._sl_numberOverlayTextFrame == nil then
        self._sl_numberOverlayFrame = __TS__New(
            Frame,
            "BACKDROP",
            nil,
            self:getRootFrame().handle
        )
        self._sl_numberOverlayFrame:setTexture("UI\\Widgets\\Console\\Human\\CommandButton\\human-button-lvls-overlay.blp")
        self._sl_numberOverlayTextFrame = __TS__New(
            Frame,
            "TEXT",
            nil,
            self:getRootFrame().handle
        )
        self._sl_numberOverlayTextFrame:setFont(0.009)
        if point == FramePoint.bottomRight then
            self._sl_numberOverlayTextFrame:setPoint(
                point,
                self:getRootFrame().handle,
                point,
                -0.005,
                0.002
            )
        elseif point == FramePoint.topRight then
            self._sl_numberOverlayTextFrame:setPoint(
                point,
                self:getRootFrame().handle,
                point,
                -0.005,
                -0.002
            )
        elseif point == FramePoint.topLeft then
            self._sl_numberOverlayTextFrame:setPoint(
                point,
                self:getRootFrame().handle,
                point,
                0.005,
                -0.002
            )
        elseif point == FramePoint.bottomLeft then
            self._sl_numberOverlayTextFrame:setPoint(
                point,
                self:getRootFrame().handle,
                point,
                0.005,
                0.002
            )
        elseif point == FramePoint.center then
            self._sl_numberOverlayTextFrame:setPoint(
                point,
                self:getRootFrame().handle,
                point,
                0,
                0
            )
        else
            self._sl_numberOverlayTextFrame:setPoint(
                point,
                self:getRootFrame().handle,
                point,
                0,
                0
            )
        end
        self._sl_numberOverlayFrame:setPoints(self._sl_numberOverlayTextFrame.handle, 0.003, 0.002)
    end
    return self._sl_numberOverlayTextFrame
end
function FrameControl.prototype.setNumberOverlayText(self, text)
    if text == nil or #text == 0 then
        if self._sl_numberOverlayFrame ~= nil then
            self._sl_numberOverlayFrame.visible = false
        end
        if self._sl_numberOverlayTextFrame ~= nil then
            self._sl_numberOverlayTextFrame.visible = false
        end
        return
    end
    self:getNumberOverlayTextFrame():setText(text)
    self._sl_numberOverlayFrame.visible = true
    self._sl_numberOverlayTextFrame.visible = true
end
function FrameControl.prototype.destroy(self)
    if self._sl_isDestroyed then
        return
    end
    if self._sl_Frames ~= nil then
        for ____, frame in ipairs(self._sl_Frames) do
            frame:destroy()
        end
        self._sl_Frames = nil
    end
    self._sl_isDestroyed = true
end
return ____exports
