local ____lualib = require("lualib_bundle")
local __TS__Class = ____lualib.__TS__Class
local __TS__ObjectAssign = ____lualib.__TS__ObjectAssign
local __TS__New = ____lualib.__TS__New
local __TS__SetDescriptor = ____lualib.__TS__SetDescriptor
local __TS__SourceMapTraceBack = ____lualib.__TS__SourceMapTraceBack
__TS__SourceMapTraceBack(debug.getinfo(1).short_src, {["9"] = 1,["10"] = 1,["11"] = 2,["12"] = 2,["13"] = 3,["14"] = 3,["15"] = 4,["16"] = 4,["17"] = 5,["18"] = 5,["19"] = 6,["20"] = 6,["21"] = 7,["22"] = 7,["23"] = 8,["24"] = 8,["25"] = 11,["26"] = 25,["27"] = 25,["28"] = 25,["29"] = 111,["30"] = 32,["31"] = 32,["32"] = 32,["33"] = 37,["34"] = 46,["35"] = 47,["36"] = 48,["37"] = 71,["38"] = 87,["39"] = 89,["40"] = 108,["41"] = 109,["42"] = 112,["43"] = 113,["44"] = 114,["47"] = 117,["48"] = 118,["49"] = 119,["51"] = 121,["52"] = 111,["53"] = 127,["54"] = 128,["57"] = 131,["58"] = 132,["59"] = 133,["60"] = 134,["61"] = 135,["62"] = 136,["65"] = 139,["66"] = 140,["68"] = 143,["69"] = 144,["70"] = 145,["71"] = 145,["72"] = 145,["73"] = 146,["74"] = 145,["75"] = 145,["77"] = 150,["79"] = 150,["81"] = 152,["82"] = 153,["84"] = 156,["85"] = 127,["86"] = 174,["87"] = 175,["88"] = 174,["89"] = 178,["90"] = 179,["91"] = 180,["92"] = 178,["93"] = 184,["94"] = 185,["95"] = 186,["97"] = 188,["98"] = 188,["99"] = 189,["101"] = 191,["102"] = 184,["103"] = 198,["104"] = 199,["107"] = 203,["108"] = 204,["109"] = 205,["110"] = 206,["113"] = 210,["114"] = 211,["116"] = 213,["118"] = 213,["120"] = 198,["121"] = 239,["122"] = 240,["123"] = 239,["124"] = 243,["125"] = 243,["126"] = 243,["128"] = 244,["129"] = 245,["131"] = 247,["132"] = 243,["133"] = 368,["134"] = 369,["135"] = 368,["136"] = 376,["137"] = 377,["138"] = 376,["139"] = 384,["140"] = 385,["141"] = 384,["142"] = 393,["143"] = 393,["144"] = 393,["146"] = 394,["147"] = 395,["148"] = 396,["150"] = 398,["151"] = 393,["152"] = 426,["153"] = 426,["154"] = 426,["156"] = 427,["157"] = 428,["158"] = 429,["160"] = 426,["161"] = 456,["162"] = 457,["163"] = 458,["164"] = 459,["166"] = 461,["167"] = 462,["168"] = 463,["169"] = 456,["170"] = 470,["171"] = 471,["172"] = 470,["173"] = 474,["174"] = 475,["175"] = 476,["176"] = 477,["178"] = 479,["179"] = 474,["180"] = 486,["181"] = 487,["182"] = 486,["183"] = 490,["184"] = 491,["185"] = 490,["186"] = 498,["187"] = 499,["188"] = 498,["189"] = 502,["190"] = 503,["191"] = 502,["192"] = 510,["193"] = 511,["194"] = 510,["195"] = 514,["196"] = 514,["197"] = 514,["199"] = 515,["200"] = 516,["201"] = 517,["203"] = 520,["204"] = 521,["206"] = 523,["207"] = 524,["209"] = 527,["210"] = 528,["212"] = 530,["213"] = 531,["215"] = 533,["216"] = 535,["217"] = 535,["218"] = 535,["219"] = 536,["220"] = 535,["221"] = 535,["223"] = 539,["224"] = 514,["225"] = 547,["226"] = 548,["227"] = 549,["229"] = 551,["230"] = 547,["231"] = 554,["232"] = 555,["233"] = 554,["234"] = 563,["235"] = 564,["236"] = 563,["237"] = 567,["238"] = 568,["239"] = 567,["240"] = 572,["241"] = 573,["242"] = 575,["243"] = 572,["244"] = 578,["245"] = 579,["246"] = 578,["247"] = 586,["248"] = 587,["249"] = 588,["250"] = 586,["251"] = 594,["252"] = 595,["253"] = 595,["254"] = 595,["255"] = 595,["256"] = 594,["257"] = 599,["258"] = 600,["259"] = 599,["260"] = 603,["261"] = 604,["262"] = 603,["263"] = 608,["264"] = 608,["265"] = 618,["266"] = 620,["267"] = 621,["268"] = 622,["269"] = 623,["272"] = 626,["273"] = 627,["274"] = 627,["275"] = 627,["276"] = 627,["277"] = 627,["278"] = 627,["279"] = 627,["280"] = 627,["281"] = 627,["282"] = 628,["283"] = 629,["284"] = 630,["286"] = 633,["287"] = 634,["289"] = 639,["290"] = 618,["291"] = 642,["292"] = 643,["295"] = 646,["297"] = 646,["298"] = 646,["299"] = 646,["300"] = 646,["301"] = 646,["302"] = 646,["303"] = 646,["305"] = 648,["306"] = 642,["307"] = 651,["308"] = 652,["311"] = 655,["312"] = 656,["313"] = 657,["314"] = 659,["316"] = 661,["317"] = 662,["318"] = 663,["319"] = 664,["320"] = 666,["323"] = 651,["324"] = 674,["325"] = 675,["326"] = 674,["327"] = 682,["328"] = 682,["329"] = 682,["331"] = 684,["334"] = 687,["335"] = 688,["336"] = 689,["337"] = 690,["341"] = 695,["342"] = 696,["344"] = 698,["345"] = 699,["346"] = 700,["348"] = 700,["350"] = 701,["352"] = 701,["354"] = 702,["355"] = 703,["356"] = 704,["358"] = 706,["360"] = 708,["361"] = 709,["362"] = 710,["364"] = 712,["365"] = 713,["366"] = 714,["367"] = 715,["369"] = 718,["370"] = 719,["371"] = 720,["372"] = 720,["373"] = 720,["374"] = 720,["377"] = 723,["378"] = 724,["379"] = 725,["380"] = 682,["381"] = 732,["382"] = 733,["383"] = 733,["384"] = 733,["385"] = 735,["386"] = 733,["387"] = 733,["388"] = 732,["389"] = 28,["390"] = 29,["395"] = 163,["404"] = 167,["406"] = 170,["407"] = 171,["417"] = 218,["418"] = 219,["420"] = 221,["422"] = 224,["423"] = 225,["432"] = 232,["440"] = 254,["449"] = 258,["451"] = 261,["452"] = 262,["455"] = 265,["456"] = 266,["458"] = 266,["460"] = 269,["461"] = 271,["462"] = 272,["463"] = 273,["464"] = 274,["465"] = 274,["466"] = 274,["467"] = 275,["468"] = 274,["469"] = 274,["472"] = 279,["473"] = 281,["474"] = 282,["476"] = 285,["477"] = 287,["478"] = 289,["479"] = 290,["480"] = 290,["481"] = 290,["482"] = 290,["483"] = 291,["485"] = 291,["486"] = 291,["487"] = 291,["488"] = 291,["489"] = 291,["491"] = 290,["492"] = 290,["494"] = 296,["495"] = 299,["497"] = 302,["507"] = 312,["515"] = 319,["523"] = 326,["524"] = 327,["526"] = 329,["527"] = 329,["528"] = 330,["529"] = 331,["531"] = 333,["539"] = 340,["547"] = 347,["555"] = 354,["563"] = 361,["572"] = 417,["574"] = 404,["575"] = 405,["576"] = 406,["577"] = 407,["579"] = 409,["581"] = 409,["593"] = 434,["595"] = 437,["596"] = 438,["597"] = 439,["598"] = 441,["599"] = 442,["601"] = 444,["603"] = 444,["605"] = 446,["610"] = 743,["611"] = 744,["612"] = 745});
local ____exports = {}
local ____DataBase = require("solar.solar-common.common.DataBase")
local DataBase = ____DataBase.default
local ____ObjectTemplateUtil = require("solar.solar-common.util.object.ObjectTemplateUtil")
local ObjectTemplateUtil = ____ObjectTemplateUtil.default
local ____LangUtil = require("solar.solar-common.util.lang.LangUtil")
local LangUtil = ____LangUtil.default
local ____STimer = require("solar.solar-common.tool.STimer")
local STimer = ____STimer.default
local ____UnitStateUtil = require("solar.solar-common.util.unit.UnitStateUtil")
local UnitStateUtil = ____UnitStateUtil.default
local ____BaseUtil = require("solar.solar-common.util.BaseUtil")
local BaseUtil = ____BaseUtil.default
local ____FrameControl = require("solar.solar-common.framex.control.FrameControl")
local FrameControl = ____FrameControl.default
local ____SyncUtil = require("solar.solar-common.util.net.SyncUtil")
local SyncUtil = ____SyncUtil.default
local index = 0
____exports.default = __TS__Class()
local Actor = ____exports.default
Actor.name = "Actor"
function Actor.prototype.____constructor(self, actorTypeId)
    local ____index_0 = index
    index = ____index_0 + 1
    self.uuid = "sa" .. tostring(____index_0)
    self.updating = false
    self._sl_level = 0
    self._sl_isInitializedOnUnitInRangeEvent = false
    self._sl_lastReadyTime = {}
    self.childDestroyList = {}
    self.data = {}
    self.extData = {}
    self._sl_isInitialized = false
    self._sl_isDestroyed = false
    self._actorType = DataBase:getSolarActorType(actorTypeId)
    if self._actorType == nil then
        log.errorWithTraceBack("不能创建不存在的演员类型:" .. actorTypeId)
        return
    end
    if self._actorType.attribute then
        self._attribute = __TS__ObjectAssign({}, self._actorType.attribute)
        ____exports.default._sl_needUpdateAttribute = true
    end
    ____exports.default.allActors[self.uuid] = self
end
function Actor.prototype._sl_init(self)
    if self._sl_isInitialized then
        return
    end
    self._sl_isInitialized = true
    self.creationTime = _g_time / 1000
    for key in pairs(self._actorType) do
        local value = self._actorType[key]
        if not LangUtil:isFunction(value) and "attribute" ~= key then
            self:_sl_rawset(key, value)
        end
    end
    if self._actorType.name == nil then
        self:setName(self._actorType.id)
    end
    local timeoutS = self:get("interval")
    if timeoutS ~= nil and timeoutS > 0 and self:get("onInterval") ~= nil then
        self:startIntervalTimer(
            timeoutS,
            function()
                self:interval()
            end
        )
    end
    local ____opt_1 = self:get("onCreated")
    if ____opt_1 ~= nil then
        ____opt_1(nil, self)
    end
    for ____, listner in ipairs(____exports.default._sl_anyActorCreatedListeners) do
        listner(nil, self)
    end
    self.level = 1
end
function Actor.prototype._sl_rawset(self, key, value)
    ____exports.default._sl_needUpdateAttribute = true
end
function Actor.prototype.set(self, key, value)
    self.data[key] = value
    self:_sl_rawset(key, value)
end
function Actor.prototype.get(self, key, defaultValue)
    if self.data[key] ~= nil then
        return self.data[key]
    end
    local ____opt_3 = self._actorType
    if (____opt_3 and ____opt_3[key]) ~= nil then
        return self._actorType[key]
    end
    return defaultValue
end
function Actor.prototype.update(self)
    if self._sl_isDestroyed then
        return
    end
    for key in pairs(self._actorType) do
        local value = self._actorType[key]
        if not LangUtil:isFunction(value) and "attribute" ~= key then
            self:_sl_rawset(key, value)
        end
    end
    for dataKey in pairs(self.data) do
        self:_sl_rawset(dataKey, self.data[dataKey])
    end
    local ____opt_5 = self:get("onUpdate")
    if ____opt_5 ~= nil then
        ____opt_5(nil, self)
    end
end
function Actor.prototype.getTemplateType(self)
    return self:get("templateType")
end
function Actor.prototype.getAttribute(self, createDefault)
    if createDefault == nil then
        createDefault = false
    end
    if not self._attribute and createDefault then
        self._attribute = {}
    end
    return self._attribute
end
function Actor.prototype.getSpellTargetX(self)
    return GetSpellTargetX()
end
function Actor.prototype.getSpellTargetY(self)
    return GetSpellTargetY()
end
function Actor.prototype.getSpellTargetUnit(self)
    return GetSpellTargetUnit()
end
function Actor.prototype.getRootFrameControl(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_rootFrameControl == nil then
        self._sl_rootFrameControl = __TS__New(FrameControl)
        self._sl_rootFrameControl.rootFrame:setSize(0.04, 0.04)
    end
    return self._sl_rootFrameControl
end
function Actor.prototype.ifReady(self, timeSec, onReady, timerKey)
    if timerKey == nil then
        timerKey = "base"
    end
    if _g_time / 1000 - (self._sl_lastReadyTime[timerKey] or -10000) >= timeSec then
        self._sl_lastReadyTime[timerKey] = _g_time / 1000
        onReady(nil)
    end
end
function Actor.prototype.startIntervalTimer(self, timeoutS, handlerFunc)
    if self._sl_intervalTimer ~= nil then
        log.errorWithTraceBack("已经启动过计时器了。 再启动新计时器请手动在外部自行管理。(有interval事件的演员会自动启动计时器!)")
        return nil
    end
    self._sl_intervalTimer = __TS__New(STimer)
    self._sl_intervalTimer:start(timeoutS, handlerFunc, true)
    return self._sl_intervalTimer
end
function Actor.prototype.setName(self, name)
    self:set("name", name)
end
function Actor.prototype.getName(self)
    local name = self:get("name")
    if name == nil then
        return self.actorTypeId
    end
    return name
end
function Actor.prototype.setIcon(self, icon)
    self:set("icon", icon)
end
function Actor.prototype.getIcon(self)
    return self:get("icon")
end
function Actor.prototype.setModel(self, icon)
    self:set("model", icon)
end
function Actor.prototype.getModel(self)
    return self:get("model")
end
function Actor.prototype.setDescribe(self, describe)
    self:set("describe", describe)
end
function Actor.prototype.getDescribe(self, includeExts)
    if includeExts == nil then
        includeExts = false
    end
    local realDescribe = self:get("describe", "")
    if includeExts == false then
        return realDescribe
    end
    if self.extDescribeFirst2 and #self.extDescribeFirst2 > 0 then
        realDescribe = (self.extDescribeFirst2 .. "|r|n") .. realDescribe
    end
    if self.extDescribeFirst1 and #self.extDescribeFirst1 > 0 then
        realDescribe = (self.extDescribeFirst1 .. "|r|n") .. realDescribe
    end
    if self.extDescribeLast1 and #self.extDescribeLast1 > 0 then
        realDescribe = realDescribe .. "|r|n" .. self.extDescribeLast1
    end
    if self.extDescribeLast2 and #self.extDescribeLast2 > 0 then
        realDescribe = realDescribe .. "|r|n" .. self.extDescribeLast2
    end
    if self._sl_extDescribes then
        LangUtil:forEachSort(
            self._sl_extDescribes,
            function(____, name, text)
                realDescribe = realDescribe .. ("|r|n" .. tostring(name)) .. tostring(text)
            end
        )
    end
    return realDescribe
end
function Actor.prototype.setExtDescribe(self, name, text)
    if self._sl_extDescribes == nil then
        self._sl_extDescribes = {}
    end
    self._sl_extDescribes[name] = text
end
function Actor.prototype.removeExtDescribe(self, name)
    deleteKey(self._sl_extDescribes, name)
end
function Actor.prototype.setDur(self, dur)
    self:set("dur", dur)
end
function Actor.prototype.getDur(self)
    return self:get("dur")
end
function Actor.prototype.setDisable(self, disable)
    self:set("disable", disable)
    ____exports.default._sl_needUpdateAttribute = true
end
function Actor.prototype.isDisable(self)
    return self:get("disable", false)
end
function Actor.prototype.setXY(self, x, y)
    self:set("x", x)
    self:set("y", y)
end
function Actor.prototype.getXY(self)
    return {
        x = self:get("x"),
        y = self:get("y")
    }
end
function Actor.prototype.setHide(self, hide)
    self:set("hide", hide)
end
function Actor.prototype.isHide(self)
    return self:get("hide", false)
end
function Actor.prototype.clone(self)
end
function Actor.prototype.localClick(self, btn, x, y)
    if self._sl_rootFrameControl ~= nil then
        local disableFrame = self._sl_rootFrameControl:getDisableFrame(false)
        if (disableFrame and disableFrame.visible) == true then
            return false
        end
    end
    isAsync = true
    local ____opt_9 = self:get("onLocalClick")
    local b = ____opt_9 and ____opt_9(
        nil,
        self,
        btn,
        x,
        y,
        self.actorType
    )
    isAsync = false
    if b == false then
        return false
    end
    if self:get("onClick") ~= nil then
        SyncUtil.syncObjData("_sl_:a:onClick", {i = self.uuid, b = btn})
    end
    return true
end
function Actor.prototype.action(self, x, y, targetUnit)
    if self:isDisable() then
        return
    end
    local ____opt_11 = self:get("onAction")
    if ____opt_11 ~= nil then
        ____opt_11(
            nil,
            self,
            x,
            y,
            targetUnit
        )
    end
    ____exports.default._sl_needUpdateAttribute = true
end
function Actor.prototype.interval(self)
    if self:isDisable() then
        return
    end
    local onInterval = self:get("onInterval")
    if onInterval then
        onInterval(nil, self)
        ____exports.default._sl_needUpdateAttribute = true
    end
    if self._sl_unit ~= nil and UnitStateUtil:isAlive(self._sl_unit) then
        local onUnitInterval = self:get("onUnitInterval")
        if onUnitInterval then
            onUnitInterval(nil, self)
            ____exports.default._sl_needUpdateAttribute = true
        end
    end
end
function Actor.prototype.isDestroyed(self)
    return self._sl_isDestroyed
end
function Actor.prototype.destroy(self, forceDestroy)
    if forceDestroy == nil then
        forceDestroy = false
    end
    if self._sl_isDestroyed then
        return
    end
    local onDestroy = self:get("onDestroy")
    if onDestroy then
        local flag = onDestroy(nil, self)
        if flag == false and forceDestroy == false then
            return
        end
    end
    for ____, listener in ipairs(____exports.default._sl_anyActorDestroyListeners) do
        listener(nil, self)
    end
    self.unit = nil
    self._sl_isDestroyed = true
    local ____opt_13 = self.sTimer
    if ____opt_13 ~= nil then
        ____opt_13:destroy()
    end
    local ____opt_15 = self._sl_intervalTimer
    if ____opt_15 ~= nil then
        ____opt_15:destroy()
    end
    if self.childDestroyList and #self.childDestroyList > 0 then
        for ____, destroyable in ipairs(self.childDestroyList) do
            destroyable:destroy()
        end
        self.childDestroyList = nil
    end
    if self.effect then
        DestroyEffect(self.effect)
        self.effect = nil
    end
    if self._sl_rootFrameControl ~= nil then
        self._sl_rootFrameControl.rootFrame.visible = false
        self._sl_rootFrameControl:destroy()
        self._sl_rootFrameControl = nil
    end
    if self.templateId ~= nil then
        if self:getTemplateType() ~= nil then
            ObjectTemplateUtil:returnTemplate(
                self:getTemplateType(),
                self.templateId
            )
        end
    end
    self.solarData = nil
    deleteKey(____exports.default.allActors, self.uuid)
    ____exports.default._sl_needUpdateAttribute = true
end
function Actor.prototype.destroyLater(self, timeOut)
    BaseUtil.runLater(
        timeOut,
        function()
            self:destroy()
        end
    )
end
Actor._sl_needUpdateAttribute = false
Actor.allActors = {}
__TS__SetDescriptor(
    Actor.prototype,
    "actorType",
    {get = function(self)
        return self._actorType
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "solarData",
    {
        get = function(self)
            return DataBase:getSolarActorSolarData(self.uuid)
        end,
        set = function(self, obj)
            DataBase:setSolarActorSolarData(self.uuid, obj)
        end
    },
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "attribute",
    {
        get = function(self)
            if self:isDisable() then
                return nil
            end
            return self._attribute
        end,
        set = function(self, value)
            self._attribute = value
        end
    },
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "actorTypeId",
    {get = function(self)
        return self._actorType.id
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "lastUnit",
    {get = function(self)
        return self._sl_lastUnit
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unit",
    {
        get = function(self)
            return self._sl_unit
        end,
        set = function(self, value)
            if self._sl_isDestroyed then
                return
            end
            self._sl_unit = value
            local ____opt_17 = self:get("onUnitChange")
            if ____opt_17 ~= nil then
                ____opt_17(nil, self, value)
            end
            if self._sl_intervalTimer == nil then
                if self:get("onUnitInterval") ~= nil and IsHandle(self._sl_unit) then
                    local timeoutS = self:get("interval")
                    if timeoutS ~= nil and timeoutS > 0 then
                        self:startIntervalTimer(
                            timeoutS,
                            function()
                                self:interval()
                            end
                        )
                    end
                end
            elseif value == nil and self:get("onUnitInterval") ~= nil and self:get("onInterval") == nil then
                self._sl_intervalTimer:destroy()
                self._sl_intervalTimer = nil
            end
            if IsHandle(self._sl_unit) then
                if self._sl_isInitializedOnUnitInRangeEvent == false and self.actorType.onUnitInRange ~= nil and self:get("unitInRangeValue") ~= nil then
                    self._sl_isInitializedOnUnitInRangeEvent = true
                    se:onUnitInRange(
                        value,
                        self:get("unitInRangeValue"),
                        function()
                            local ____opt_19 = self:get("onUnitInRange")
                            if ____opt_19 ~= nil then
                                ____opt_19(
                                    nil,
                                    self,
                                    GetEnteringUnit()
                                )
                            end
                        end
                    )
                end
                se:emit("_sl_:单位获得演员", {u = self.unit, a = self})
                self._sl_lastUnit = self._sl_unit
            else
                se:emit("_sl_:单位失去演员", {u = self._sl_lastUnit, a = self})
            end
        end
    },
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitX",
    {get = function(self)
        return GetUnitX(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitY",
    {get = function(self)
        return GetUnitY(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitName",
    {get = function(self)
        if not IsHandle(self._sl_unit) then
            return nil
        end
        local ____opt_21 = DataBase:getUnitSolarData(self._sl_unit, false)
        local actor = ____opt_21 and ____opt_21._SL_solarActorUnit
        if actor ~= nil then
            return actor:getName()
        end
        return GetUnitName(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitLevel",
    {get = function(self)
        return GetUnitLevel(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitFacing",
    {get = function(self)
        return GetUnitFacing(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitOwner",
    {get = function(self)
        return GetOwningPlayer(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitOwnerId",
    {get = function(self)
        return GetPlayerId(GetOwningPlayer(self._sl_unit))
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "numberOverlay",
    {
        get = function(self)
            return self._sl_numberOverlay
        end,
        set = function(self, num)
            self._sl_numberOverlay = num
            if num then
                self:getRootFrameControl():setNumberOverlayText("" .. tostring(num))
            else
                local ____opt_23 = self:getRootFrameControl(false)
                if ____opt_23 ~= nil then
                    ____opt_23:setNumberOverlayText(nil)
                end
            end
        end
    },
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "level",
    {
        get = function(self)
            return self._sl_level
        end,
        set = function(self, value)
            local delta = value - (self._sl_level or 0)
            self._sl_level = value
            for ____, listener in ipairs(____exports.default._sl_anyActorLevelChangeListeners) do
                listener(nil, self, delta)
            end
            local ____opt_25 = self:get("onActorLevelChange")
            if ____opt_25 ~= nil then
                ____opt_25(nil, self, delta)
            end
            ____exports.default._sl_needUpdateAttribute = true
        end
    },
    true
)
Actor._sl_anyActorCreatedListeners = {}
Actor._sl_anyActorLevelChangeListeners = {}
Actor._sl_anyActorDestroyListeners = {}
return ____exports
